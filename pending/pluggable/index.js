(()=>{"use strict";var e={4801:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function u(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,u)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(n(1239));class r extends s.default{constructor(e,t){super(),this.plugins=e,this.dest=t,this.loadedPlugins=[],this.loadingPlugins=[]}loadPlugin(e){return i(this,void 0,void 0,(function*(){return this.isLoaded(e)||this.isLoading(e)||!this.areDependenciesLoaded(e)||(this.loadingPlugins.push(e.id),yield e.install(this.dest)),this.load()}))}isLoaded(e){return this.loadedPlugins.includes(e.id)}isLoading(e){return this.loadingPlugins.includes(e.id)}areDependenciesLoaded(e){return!e.dependencies.some((e=>!this.loadedPlugins.includes(e)))}load(){const e=this.plugins.filter((e=>!this.isLoaded(e)&&!this.isLoading(e)));0===e.length&&this.emit("done",this.loadedPlugins),e.forEach((e=>{this.loadPlugin(e).then((()=>{this.loadedPlugins.push(e.id),this.emit("plugin:loaded",e)})).catch((t=>{this.emit("plugin:error",{error:t,plugin:e}),this.emit("error",t)}))}))}}t.default=r},9227:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,s){function r(e){try{d(i.next(e))}catch(e){s(e)}}function u(e){try{d(i.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,u)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.load=void 0;const s=o(n(4801));t.load=(e,t,n)=>i(void 0,void 0,void 0,(function*(){return yield new Promise(((i,o)=>{const r=new s.default(e,t);r.once("done",(e=>i(e))),r.once("error",(e=>o(e))),n instanceof Function&&(r.on("plugin:loaded",n),r.on("plugin:error",(({plugin:e,error:t})=>n(e,t)))),r.load()}))}))},1239:e=>{e.exports=require("events")}},t={},n=function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}(9227);module.exports=n})();